add_action( 'wp_head', function () { ?>

<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    
    gtag('consent', 'default', {
      'ad_storage': 'denied',
      'analytics_storage': 'denied',
      'functionality_storage': 'granted',
      'personalization_storage': 'denied',
      'security_storage': 'denied',
    });
</script>
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v2.7.2/dist/cookieconsent.js"></script>
<script>
    window.addEventListener('load', function () {
    
            // obtain plugin
            var cc = initCookieConsent();
    
            // run plugin with your configuration
            cc.run({
                
                gui_options: {
                    consent_modal: {
                        layout: 'cloud',               // box/cloud/bar
                        position: 'bottom center',     // bottom/middle/top + left/right/center
                        transition: 'slide',           // zoom/slide
                        swap_buttons: false            // enable to invert buttons
                },
                    settings_modal: {
                        layout: 'box',                 // box/bar
                        // position: 'left',           // left/right
                        transition: 'slide'            // zoom/slide
                }
                },
                
                current_lang: 'cs',
                autoclear_cookies: true,                   // default: false
                theme_css: 'https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v2.7.2/dist/cookieconsent.css',  // üö® replace with a valid path
                page_scripts: false,                        // default: false
    
                mode: 'opt-in',                          // default: 'opt-in'; value: 'opt-in' or 'opt-out'
                // delay: 0,                               // default: 0
                auto_language: 'document',                      // default: null; could also be 'browser' or 'document'
                // autorun: true,                          // default: true
                // force_consent: false,                   // default: false
                // hide_from_bots: false,                  // default: false
                // remove_cookie_tables: false             // default: false
                // cookie_name: 'cc_cookie',               // default: 'cc_cookie'
                cookie_expiration: 182,                 // default: 182 (days)
                // cookie_necessary_only_expiration: 182   // default: disabled
                // cookie_domain: location.hostname,       // default: current domain
                // cookie_path: '/',                       // default: root
                // cookie_same_site: 'Lax',                // default: 'Lax'
                // use_rfc_cookie: false,                  // default: false
                // revision: 0,                            // default: 0
    
    
                onFirstAction: function (user_preferences, cookie) {
                    // callback triggered only once on the first accept/reject action
                },
    
                onAccept: function (cookie) {
                    if (cc.allowedCategory('analytics')) {
                        gtag('consent', 'update', {
                            'analytics_storage': 'granted'
                        });
                    }
                },
    
                onChange: function (cookie, changed_categories) {
                    // callback triggered when user changes preferences after consent has already been given
                   if (cc.allowedCategory('analytics')) {
                        gtag('consent', 'update', {
                            'analytics_storage': 'granted'
                        });
                    }
                    if (!cc.allowedCategory('analytics')) {
                        gtag('consent', 'update', {
                            'analytics_storage': 'denied'
                        });
                    }
                },
    
    
                languages: {
                    'en': {
                        consent_modal: {
                            title: 'We use cookies!',
                            description: 'Hi, this website uses essential cookies to ensure its proper operation and tracking cookies to understand how you interact with it. The latter will be set only after consent. <button type="button" data-cc="c-settings" class="cc-link">Let me choose</button>',
                            primary_btn: {
                                text: 'Accept all',
                                role: 'accept_all'              // 'accept_selected' or 'accept_all'
                            },
                            secondary_btn: {
                                text: 'Reject all',
                                role: 'accept_necessary'        // 'settings' or 'accept_necessary'
                            }
                        },
                        settings_modal: {
                            title: 'Cookie preferences',
                            save_settings_btn: 'Save settings',
                            accept_all_btn: 'Accept all',
                            reject_all_btn: 'Reject all',
                            close_btn_label: 'Close',
                            cookie_table_headers: [
                                { col1: 'Name' },
                                { col2: 'Domain' },
                                { col3: 'Expiration' },
                                { col4: 'Description' }
                            ],
                            blocks: [
                                {
                                    title: 'Cookie usage üì¢',
                                    description: 'I use cookies to ensure the basic functionalities of the website and to enhance your online experience. You can choose for each category to opt-in/out whenever you want. For more details relative to cookies and other sensitive data, please read the full <a href="https://rozett.cz/en/cookie-policy/" class="cc-link">cookie policy</a>.'
                                }, {
                                    title: 'Strictly necessary cookies',
                                    description: 'These cookies are essential for the proper functioning of my website. Without these cookies, the website would not work properly',
                                    toggle: {
                                        value: 'functionality',
                                        enabled: true,
                                        readonly: true          // cookie categories with readonly=true are all treated as "necessary cookies"
                                    },
                                    cookie_table: [             // list of all expected cookies
                                        {
                                            col1: 'WP_DATA_USER_^',       // match all cookies starting with "_ga"
                                            col2: 'WordPress',
                                            col3: 'session',
                                            col4: 'Store user preferences',
                                            is_regex: true
                                        }, {
                                            col1: 'wp-api-schema-model^',
                                            col2: 'WordPress',
                                            col3: 'session',
                                            col4: '',
                                            is_regex: true
                                        }, {
                                            col1: 'wordpress_test_cookie',
                                            col2: 'WordPress',
                                            col3: 'session',
                                            col4: 'Read if cookies can be placed',
                                        }, {
                                            col1: 'wordpress_logged_in_^',
                                            col2: 'WordPress',
                                            col3: 'persistent',
                                            col4: 'Store logged in users',
                                            is_regex: true
                                        }, {
                                            col1: 'wordpress_sec_^',
                                            col2: 'WordPress',
                                            col3: '15 days',
                                            col4: 'To provide protection against hackers, store account details.',
                                        }, {
                                            col1: 'wp-wpml_current_language',
                                            col2: 'WPML',
                                            col3: '1 day',
                                            col4: 'Store language settings',
                                        }, {
                                            col1: 'cc-cookie',
                                            col2: 'Cookie Consent',
                                            col3: '182 days',
                                            col4: 'Store your cookie preferences',
                                        }
                                    ]
                                }, {
                                    title: 'Performance and Analytics cookies',
                                    description: 'These cookies allow the website to remember the choices you have made in the past',
                                    toggle: {
                                        value: 'analytics',     // your cookie category
                                        enabled: false,
                                        readonly: false
                                    },
                                    cookie_table: [             // list of all expected cookies
                                        {
                                            col1: '^_ga',       // match all cookies starting with "_ga"
                                            col2: 'google.com',
                                            col3: '2 years',
                                            col4: 'The _ga cookie, installed by Google Analytics, calculates visitor, session and campaign data and also tracks site usage for the sites analytics report. The cookie stores information anonymously and assigns a randomly generated number to recognize unique visitors.',
                                            is_regex: true
                                        },
                                        {
                                            col1: '_gid',
                                            col2: 'google.com',
                                            col3: '1 day',
                                            col4: 'The _gid cookie, installed by Google Analytics, stores information about how visitors use the website and also generates an analytics report on the performance of the website. The data collected includes the number of visitors, their source and the pages visited anonymously.',
                                        }
                                    ]
                                }, {
                                    title: 'Do you have any questions?',
                                    description: 'If you have any questions about our cookie policy and your choices, please contact janavrbova@willowdent.cz.',
                                }
                            ]
                        }
                    },
                    'cs': {
                        consent_modal: {
                            title: 'Pou≈æ√≠v√°me cookies',
                            description: 'Dobr√Ω den, na na≈°em webu pou≈æ√≠v√°me cookies, abychom zjistili kolik lid√≠ n√°m sem chod√≠ a jak√© slu≈æby je zaj√≠maj√≠. Tyto soubory m≈Ø≈æeme pou≈æ√≠vat pouze s va≈°√≠m souhlasem. <button type="button" data-cc="c-settings" class="cc-link">Vyberte si jak√© cookies chcete pou≈æ√≠vat</button>',
                            primary_btn: {
                                text: 'P≈ôijmout v≈°echny',
                                role: 'accept_all'              // 'accept_selected' or 'accept_all'
                            },
                            secondary_btn: {
                                text: 'Odm√≠tnout v≈°echny',
                                role: 'accept_necessary'        // 'settings' or 'accept_necessary'
                            }
                        },
                        settings_modal: {
                            title: 'Vyberte si jak√© cookies chcete p≈ôijmout',
                            save_settings_btn: 'Ulo≈æit nastaven√≠',
                            accept_all_btn: 'P≈ôijmout v≈°echny',
                            reject_all_btn: 'Odm√≠tnout v≈°echny',
                            close_btn_label: 'Zav≈ô√≠t',
                            cookie_table_headers: [
                                { col1: 'Name' },
                                { col2: 'Domain' },
                                { col3: 'Expiration' },
                                { col4: 'Description' }
                            ],
                            blocks: [
                                {
                                    title: 'Pou≈æ√≠v√°me cookies üì¢',
                                    description: 'Soubory cookie pou≈æ√≠v√°m k zaji≈°tƒõn√≠ z√°kladn√≠ch funkc√≠ webov√Ωch str√°nek a ke zlep≈°en√≠ va≈°eho online z√°≈æitku. U ka≈æd√© kategorie si m≈Ø≈æete zvolit, zda se chcete p≈ôihl√°sit nebo odhl√°sit, kdykoli budete cht√≠t. Dal≈°√≠ podrobnosti t√Ωkaj√≠c√≠ se soubor≈Ø cookie a dal≈°√≠ch citliv√Ωch √∫daj≈Ø naleznete v √∫pln√©m znƒõn√≠. <a href="https://rozett.cz/cookie-policy/" class="cc-link">Cookie policy</a>'
                                }, {
                                    title: 'Nezbytnƒõ nutn√© soubory cookie',
                                    description: 'Tyto soubory cookie jsou nezbytn√© pro spr√°vn√© fungov√°n√≠ m√Ωch webov√Ωch str√°nek. Bez tƒõchto soubor≈Ø cookie by webov√© str√°nky nefungovaly spr√°vnƒõ.',
                                    toggle: {
                                        value: 'functionality',
                                        enabled: true,
                                        readonly: true          // cookie categories with readonly=true are all treated as "necessary cookies"
                                    }, 
                                    cookie_table: [             // list of all expected cookies
                                        {
                                            col1: 'WP_DATA_USER_^',       // match all cookies starting with "_ga"
                                            col2: 'WordPress',
                                            col3: 'do zav≈ôen√≠ prohl√≠≈æece',
                                            col4: 'Ukl√°d√°n√≠ u≈æivatelsk√Ωch p≈ôedvoleb',
                                            is_regex: true
                                        }, {
                                            col1: 'wp-api-schema-model^',
                                            col2: 'WordPress',
                                            col3: 'do zav≈ôen√≠ prohl√≠≈æece',
                                            col4: '',
                                        }, {
                                            col1: 'wordpress_test_cookie',
                                            col2: 'WordPress',
                                            col3: 'do zav≈ôen√≠ prohl√≠≈æece',
                                            col4: 'Zji≈°≈•uje, zda lze pou≈æ√≠t cookie',
                                        }, {
                                            col1: 'wordpress_logged_in_^',
                                            col2: 'WordPress',
                                            col3: 'trval√©',
                                            col4: 'Ukl√°d√°n√≠ p≈ôihl√°≈°en√Ωch u≈æivatel≈Ø',
                                            is_regex: true
                                        }, {
                                            col1: 'wordpress_sec_^',
                                            col2: 'WordPress',
                                            col3: '15 dn√≠',
                                            col4: 'Chr√°n√≠ proti √∫toky hacker≈Ø.',
                                        }, {
                                            col1: 'wp-wpml_current_language',
                                            col2: 'WPML',
                                            col3: '1 den',
                                            col4: 'Ulo≈æen√≠ jazykov√Ωch nastaven√≠',
                                        }, {
                                            col1: 'cc-cookie',
                                            col2: 'Cookie Consent',
                                            col3: '182 dn√≠',
                                            col4: 'Uchov√°v√°n√≠ va≈°ich cookie preferenc√≠',
                                        }
                                    ]
                                }, {
                                    title: 'V√Ωkonnostn√≠ a analytick√© cookies',
                                    description: 'Tyto soubory cookie umo≈æ≈àuj√≠ webov√© str√°nce zapamatovat si volby, kter√© jste provedli v minulosti.',
                                    toggle: {
                                        value: 'analytics',     // your cookie category
                                        enabled: false,
                                        readonly: false
                                    },
                                    cookie_table: [             // list of all expected cookies
                                        {
                                            col1: '^_ga',       // match all cookies starting with "_ga"
                                            col2: 'google.com',
                                            col3: '2 roky',
                                            col4: 'Soubor cookie _ga, instalovan√Ω slu≈æbou Google Analytics, vypoƒç√≠t√°v√° √∫daje o n√°v≈°tƒõvn√≠c√≠ch, relac√≠ch a kampan√≠ch a tak√© sleduje pou≈æ√≠v√°n√≠ webu pro analytickou zpr√°vu webu. Soubor cookie ukl√°d√° informace anonymnƒõ a k rozpozn√°n√≠ jedineƒçn√Ωch n√°v≈°tƒõvn√≠k≈Ø p≈ôi≈ôazuje n√°hodnƒõ vygenerovan√© ƒç√≠slo.',
                                            is_regex: true
                                        },
                                        {
                                            col1: '_gid',
                                            col2: 'google.com',
                                            col3: '1 den',
                                            col4: 'Soubor cookie _gid, instalovan√Ω slu≈æbou Google Analytics, ukl√°d√° informace o tom, jak n√°v≈°tƒõvn√≠ci pou≈æ√≠vaj√≠ webov√© str√°nky, a z√°rove≈à vytv√°≈ô√≠ analytickou zpr√°vu o v√Ωkonu webov√Ωch str√°nek. Mezi shroma≈æƒèovan√© √∫daje pat≈ô√≠ poƒçet n√°v≈°tƒõvn√≠k≈Ø, jejich zdroj a anonymnƒõ nav≈°t√≠ven√© str√°nky.',
                                        }
                                    ]
                                }, {
                                    title: 'M√°te nƒõjak√© dotazy?',
                                    description: 'V p≈ô√≠padƒõ jak√Ωchkoli dotaz≈Ø t√Ωkaj√≠c√≠ch se na≈°ich z√°sad o souborech cookie a va≈°√≠ volby se obra≈•te na janavrbova@willowdent.cz.',
                                }
                            ]
                        }
                    }
                }
            });
        });
</script>
    
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','XXX-XXXXXX');</script>

<?php } );

add_action( 'wp_body_open', function () { ?>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=XXX-XXXXXX"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<?php } );
